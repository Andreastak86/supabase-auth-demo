name: Keep Supabase Awake

on:
   schedule:
      - cron: "0 7 * * *"
   workflow_dispatch: {}

jobs:
   ping:
      runs-on: ubuntu-latest
      steps:
         - name: Curl ping Supabase REST endpoint
           run: |
              curl -s -o /dev/null -w "%{http_code}" \
              "${SUPABASE_URL}/auth/v1/health"
           env:
              SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
